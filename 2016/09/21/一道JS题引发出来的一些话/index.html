<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0,user-scalable=no"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><script src="https://use.fontawesome.com/adaf0e149c.js"></script><link rel="stylesheet" href="/css/main.css"><title>林水溶的博客</title></head><body><div id="postContainer"><div id="postTop"><h4 id="logo">Life Is Short</h4><br><br><h2 id="postTitle">一道JS题引发出来的一些话</h2><br><span aria-hidden="true" class="postTime fa fa-calendar">2016-9-21</span><span aria-hidden="true" class="postTags fa fa-tags">JavaScript 感受 </span><br><br></div><section id="articleDiv"><p><hr></p>
<p><strong>FCC上的一道题：</strong></p><br><blockquote><br><p>写一个 function，它遍历一个对象数组（第一个参数）并返回一个包含相匹配的属性-值对（第二个参数）的所有对象的数组。如果返回的数组中包含 source 对象的属性-值对，那么此对象的每一个属性-值对都必须存在于 collection 的对象中。</p><br></blockquote><br><p>eg:</p><br><blockquote><br><p>where([{ “a”: 1 }, { “a”: 1 }, { “a”: 1, “b”: 2 }], { “a”: 1 }) 应该返回 [{ “a”: 1 }, { “a”: 1 }, { “a”: 1, “b”: 2 }]。<br>where([{ “a”: 1, “b”: 2 }, { “a”: 1 }, { “a”: 1, “b”: 2, “c”: 2 }], { “a”: 1, “b”: 2 }) 应该返回 [{ “a”: 1, “b”: 2 }, { “a”: 1, “b”: 2, “c”: 2 }]。</p><br></blockquote><br><p>“不难，但挺麻烦的” 这就是我弄懂题目后的第一感受。而接下来的事实证明，真是够麻烦的。（对我来说。）<br>因为他喵的，我写了有40行代码，用了4、5个for循环。花了我一个小时在这个题上面。</p><br><p>然后我就去看大神的solution了：</p><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function whatIsInAName(collection, source) &#123;</div><div class="line">  var arr = [];</div><div class="line">  var keys = Object.keys(source);</div><div class="line">  </div><div class="line">  return collection.filter(function(item) &#123;</div><div class="line">    return keys.every(function(key) &#123;</div><div class="line">      return item.hasOwnProperty(key) &amp;&amp; item[key] === source[key];</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">whatIsInAName([&#123; &quot;a&quot;: 1, &quot;b&quot;: 2 &#125;, &#123; &quot;a&quot;: 1 &#125;, &#123; &quot;a&quot;: 1, &quot;b&quot;: 2, &quot;c&quot;: 2 &#125;], &#123; &quot;a&quot;: 1, &quot;c&quot;: 2 &#125;);</div></pre></td></tr></table></figure><br><p>高下立分，服。<br>在这之前没进过every()，赶紧去查了查用法。</p><br><hr><br><p><strong>写在后面</strong></p><br><p>关于这个题目的解答我用的基本都是底层方法。for循环，if else ，能不底层么嘛。但是我觉得实在是不可取：<br><em>这样写，代码很长，而且逻辑混乱。可能过了几天自己回来看就看不懂了。而且，显示不出来水平2333</em></p><br><p><strong>JavaScript 语言设计的时候封装了那么些方法干啥吃的，不就是让我们少造轮子，不浪费生命在重复的东西上吗？</strong></p><br><p>以上。</p>
</section></div></body></html>